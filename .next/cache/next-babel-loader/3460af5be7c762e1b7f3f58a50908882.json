{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\n//财务专家\nimport axios from 'axios';\nimport * as moduleMyfunc from '../store/myFunc.js'; //客户托管在这里的默认的state对象\n\nvar defaultState = {\n  // url_BigObjJsonKollins: './static/+json所有柯林斯单词.json', //kollins json路径\n  url_BigArrJsonKollins: './static/+arr所有柯林斯单词.json',\n  // obj_AllWords: {}, //存放从json文件(一个大的obj对象)中读取到的obj_objJson\n  arr_KollinsAllWords: [],\n  //存放从json文件(一个大的数组)中读取到的arr_objJson\n  word_currentFind: '',\n  //当前查找的词头\n  index_wordCurrentFind: -1,\n  //当前查找的单词, 在arr_AllWords中的索引值\n  num_OfElementsInSlice: 0,\n  //想切含有多少个元素的切片? 范围是多少? 比如20个元素, 还是30个元素?\n  index_start: 0,\n  //数组切片的起始索引值\n  index_end: 19,\n  //数组切片的尾索引值\n  arr_wordNameInSlice: [],\n  //存放对数组切片后, 里面的所有词头组成的数组\n  word_name: '',\n  //词头\n  word_ciGeng: '',\n  //词根\n  word_yinBiao: '',\n  //音标\n  word_ArrDef: [],\n  //释例数组, 已经过扁平化一维处理.\n  arr_selectedContent: [],\n  //存放选出的释义与例句内容\n  str_textArea: '' //将选出的内容,放入文本框中. 方便发送给后端node.js来另存文件.\n  //先从json文件中, 拿到所有的kollins单词数据, 并赋值给defaultState对象的arr_KollinsAllWords属性\n\n};\nfn_Set_ArrAllWords(); //调用函数\n//财务专家函数\n\nvar fnReducer = function fnReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var objAction = arguments.length > 1 ? arguments[1] : undefined;\n\n  // console.log('财务专家收到命令书', objAction);\n  if (objAction.type === '命令书_更新WordCurrentFind') {\n    var newState = JSON.parse(_JSON$stringify(state));\n    newState.word_currentFind = objAction.value;\n    return newState;\n  }\n\n  if (objAction.type === '命令书_更新indexStart') {\n    var _newState = JSON.parse(_JSON$stringify(state));\n\n    _newState.index_start = objAction.value;\n    return _newState;\n  }\n\n  if (objAction.type === '命令书_更新indexEnd') {\n    var _newState2 = JSON.parse(_JSON$stringify(state));\n\n    _newState2.index_end = objAction.value;\n    return _newState2;\n  }\n\n  if (objAction.type === '命令书_更新arr_selectedContent') {\n    var _newState3 = JSON.parse(_JSON$stringify(state));\n\n    _newState3.index_end = objAction.value;\n    return _newState3;\n  } //搜索单个单词,并将内容填充到state中的各对应字段中\n\n\n  if (objAction.type === '命令书_查找SingleWord') {\n    var _newState4 = JSON.parse(_JSON$stringify(state));\n\n    _newState4.word_currentFind = objAction.value;\n\n    _newState4.arr_KollinsAllWords.forEach(function (itemWord, index, arr) {\n      if (itemWord[\"key词头\"] === objAction.value) {\n        _newState4.index_wordCurrentFind = index;\n        _newState4.word_name = itemWord[\"key词头\"];\n        _newState4.word_yinBiao = itemWord[\"key音标\"];\n        _newState4.word_ciGeng = itemWord[\"key词根\"];\n        _newState4.word_ArrDef = moduleMyfunc.fn_处理所有释例到一维数组(itemWord[\"key所有释例\"]);\n        _newState4.arr_selectedContent = []; //当重新查询单词时, 就清空上一次选出的内容\n      }\n    });\n\n    return _newState4;\n  }\n\n  if (objAction.type === '命令书_更新arrWordNameInSlice') {\n    var _newState5 = JSON.parse(_JSON$stringify(state));\n\n    _newState5.arr_wordNameInSlice = fn_获取数组切片区间中的词头(_newState5.arr_KollinsAllWords, _newState5.index_start, _newState5.index_end);\n    return _newState5;\n  }\n\n  if (objAction.type === '命令书_获取下20个单词') {\n    var _newState6 = JSON.parse(_JSON$stringify(state));\n\n    _newState6.index_start = _parseInt(_newState6.index_end) + 1;\n    _newState6.index_end = _parseInt(_newState6.index_start) + 19;\n    _newState6.arr_wordNameInSlice = fn_获取数组切片区间中的词头(_newState6.arr_KollinsAllWords, _newState6.index_start, _newState6.index_end);\n    return _newState6;\n  }\n\n  return state; //如果没有进入上面的if语句而返回一个newState, 本函数也要返回一个默认的defaultState.\n};\n\nexport default fnReducer; //----------------------------------------\n//从json文件中, 拿到所有的kollins单词数据, 返回一个promise对象\n\nfunction fnPms_getWordArr_FromJsonFile(_x) {\n  return _fnPms_getWordArr_FromJsonFile.apply(this, arguments);\n} //将拿到的所有柯林斯单词, 赋值给defaultState对象的arr_AllWords属性\n\n\nfunction _fnPms_getWordArr_FromJsonFile() {\n  _fnPms_getWordArr_FromJsonFile = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(urlJson) {\n    var Pms_ArrAllWords;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(urlJson).then(function (res) {\n              return res.data;\n            })[\"catch\"](function (err) {\n              console.log(err);\n            });\n\n          case 2:\n            Pms_ArrAllWords = _context.sent;\n            return _context.abrupt(\"return\", Pms_ArrAllWords);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fnPms_getWordArr_FromJsonFile.apply(this, arguments);\n}\n\nfunction fn_Set_ArrAllWords() {\n  fnPms_getWordArr_FromJsonFile(defaultState.url_BigArrJsonKollins).then(function (res) {\n    defaultState.arr_KollinsAllWords = res;\n  })[\"catch\"](function (err) {\n    console.log(err);\n  });\n}\n\nfunction fn_获取数组切片区间中的词头(arr, indexStart, indexEnd) {\n  var arrSlice = arr.slice(indexStart, indexEnd);\n  var arrWordName = arrSlice.map(function (item, index, arr) {\n    return item['key词头'];\n  });\n  return arrWordName;\n}","map":{"version":3,"sources":["E:\\phpStorm_proj\\next_Kollins\\store\\fnReducer.js"],"names":["axios","moduleMyfunc","defaultState","url_BigArrJsonKollins","arr_KollinsAllWords","word_currentFind","index_wordCurrentFind","num_OfElementsInSlice","index_start","index_end","arr_wordNameInSlice","word_name","word_ciGeng","word_yinBiao","word_ArrDef","arr_selectedContent","str_textArea","fn_Set_ArrAllWords","fnReducer","state","objAction","type","newState","JSON","parse","value","forEach","itemWord","index","arr","fn_处理所有释例到一维数组","fn_获取数组切片区间中的词头","fnPms_getWordArr_FromJsonFile","urlJson","get","then","res","data","err","console","log","Pms_ArrAllWords","indexStart","indexEnd","arrSlice","slice","arrWordName","map","item"],"mappings":";;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,YAAZ,MAA8B,oBAA9B,C,CAGA;;AACA,IAAIC,YAAY,GAAG;AACf;AACAC,EAAAA,qBAAqB,EAAE,2BAFR;AAGf;AACAC,EAAAA,mBAAmB,EAAE,EAJN;AAIU;AAEzBC,EAAAA,gBAAgB,EAAE,EANH;AAMO;AACtBC,EAAAA,qBAAqB,EAAE,CAAC,CAPT;AAOY;AAE3BC,EAAAA,qBAAqB,EAAE,CATR;AASW;AAC1BC,EAAAA,WAAW,EAAE,CAVE;AAUC;AAChBC,EAAAA,SAAS,EAAE,EAXI;AAWA;AACfC,EAAAA,mBAAmB,EAAE,EAZN;AAYU;AAEzBC,EAAAA,SAAS,EAAE,EAdI;AAcA;AACfC,EAAAA,WAAW,EAAE,EAfE;AAeE;AACjBC,EAAAA,YAAY,EAAE,EAhBC;AAgBG;AAClBC,EAAAA,WAAW,EAAE,EAjBE;AAiBE;AAEjBC,EAAAA,mBAAmB,EAAE,EAnBN;AAmBU;AACzBC,EAAAA,YAAY,EAAE,EApBC,CAoBG;AAItB;;AAxBmB,CAAnB;AAyBAC,kBAAkB,G,CAAG;AAGrB;;AACA,IAAIC,SAAS,GAAG,SAAZA,SAAY,GAAqC;AAAA,MAApCC,KAAoC,uEAA5BjB,YAA4B;AAAA,MAAdkB,SAAc;;AACjD;AAEA,MAAIA,SAAS,CAACC,IAAV,KAAmB,uBAAvB,EAAgD;AAC5C,QAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;AACAG,IAAAA,QAAQ,CAACjB,gBAAT,GAA4Be,SAAS,CAACK,KAAtC;AACA,WAAOH,QAAP;AACH;;AAGD,MAAIF,SAAS,CAACC,IAAV,KAAmB,kBAAvB,EAA2C;AACvC,QAAIC,SAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,SAAQ,CAACd,WAAT,GAAuBY,SAAS,CAACK,KAAjC;AACA,WAAOH,SAAP;AACH;;AAGD,MAAIF,SAAS,CAACC,IAAV,KAAmB,gBAAvB,EAAyC;AACrC,QAAIC,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,UAAQ,CAACb,SAAT,GAAqBW,SAAS,CAACK,KAA/B;AACA,WAAOH,UAAP;AACH;;AAEA,MAAIF,SAAS,CAACC,IAAV,KAAmB,2BAAvB,EAAoD;AACjD,QAAIC,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,UAAQ,CAACb,SAAT,GAAqBW,SAAS,CAACK,KAA/B;AACA,WAAOH,UAAP;AACH,GA3BgD,CAgCjD;;;AACA,MAAIF,SAAS,CAACC,IAAV,KAAmB,kBAAvB,EAA2C;AACvC,QAAIC,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,UAAQ,CAACjB,gBAAT,GAA4Be,SAAS,CAACK,KAAtC;;AAEAH,IAAAA,UAAQ,CAAClB,mBAAT,CAA6BsB,OAA7B,CAAqC,UAACC,QAAD,EAAWC,KAAX,EAAkBC,GAAlB,EAA0B;AACvD,UAAIF,QAAQ,CAAC,OAAD,CAAR,KAAsBP,SAAS,CAACK,KAApC,EAA2C;AACvCH,QAAAA,UAAQ,CAAChB,qBAAT,GAAiCsB,KAAjC;AACAN,QAAAA,UAAQ,CAACX,SAAT,GAAqBgB,QAAQ,CAAC,OAAD,CAA7B;AACAL,QAAAA,UAAQ,CAACT,YAAT,GAAwBc,QAAQ,CAAC,OAAD,CAAhC;AACAL,QAAAA,UAAQ,CAACV,WAAT,GAAuBe,QAAQ,CAAC,OAAD,CAA/B;AACAL,QAAAA,UAAQ,CAACR,WAAT,GAAuBb,YAAY,CAAC6B,cAAb,CAA4BH,QAAQ,CAAC,SAAD,CAApC,CAAvB;AACAL,QAAAA,UAAQ,CAACP,mBAAT,GAA+B,EAA/B,CANuC,CAML;AACrC;AACJ,KATL;;AAWA,WAAOO,UAAP;AACH;;AAGD,MAAIF,SAAS,CAACC,IAAV,KAAmB,0BAAvB,EAAmD;AAC/C,QAAIC,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,UAAQ,CAACZ,mBAAT,GAA+BqB,eAAe,CAACT,UAAQ,CAAClB,mBAAV,EAA+BkB,UAAQ,CAACd,WAAxC,EAAqDc,UAAQ,CAACb,SAA9D,CAA9C;AACA,WAAOa,UAAP;AACH;;AAGD,MAAIF,SAAS,CAACC,IAAV,KAAmB,cAAvB,EAAuC;AACnC,QAAIC,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,gBAAeL,KAAf,CAAX,CAAf;;AACAG,IAAAA,UAAQ,CAACd,WAAT,GAAuB,UAASc,UAAQ,CAACb,SAAlB,IAA+B,CAAtD;AACAa,IAAAA,UAAQ,CAACb,SAAT,GAAqB,UAASa,UAAQ,CAACd,WAAlB,IAAiC,EAAtD;AACAc,IAAAA,UAAQ,CAACZ,mBAAT,GAA+BqB,eAAe,CAACT,UAAQ,CAAClB,mBAAV,EAA+BkB,UAAQ,CAACd,WAAxC,EAAqDc,UAAQ,CAACb,SAA9D,CAA9C;AACA,WAAOa,UAAP;AACH;;AAGD,SAAOH,KAAP,CApEiD,CAoEpC;AAChB,CArED;;AAuEA,eAAeD,SAAf,C,CAGA;AAEA;;SACec,6B;;EAYf;;;;;;2BAZA,iBAA6CC,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACgCjC,KAAK,CAACkC,GAAN,CAAUD,OAAV,EACvBE,IADuB,CAClB,UAAAC,GAAG,EAAI;AACT,qBAAOA,GAAG,CAACC,IAAX;AACH,aAHuB,WAIjB,UAAAC,GAAG,EAAI;AACVC,cAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,aANuB,CADhC;;AAAA;AACQG,YAAAA,eADR;AAAA,6CAQWA,eARX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAaA,SAASxB,kBAAT,GAA8B;AAC1Be,EAAAA,6BAA6B,CAAC9B,YAAY,CAACC,qBAAd,CAA7B,CACKgC,IADL,CACU,UAAAC,GAAG,EAAI;AACTlC,IAAAA,YAAY,CAACE,mBAAb,GAAmCgC,GAAnC;AACH,GAHL,WAIW,UAAAE,GAAG,EAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GANL;AAOH;;AAGD,SAASP,eAAT,CAAyBF,GAAzB,EAA8Ba,UAA9B,EAA0CC,QAA1C,EAAoD;AAChD,MAAIC,QAAQ,GAAGf,GAAG,CAACgB,KAAJ,CAAUH,UAAV,EAAsBC,QAAtB,CAAf;AACA,MAAIG,WAAW,GAAGF,QAAQ,CAACG,GAAT,CAAa,UAACC,IAAD,EAAOpB,KAAP,EAAcC,GAAd,EAAsB;AACjD,WAAOmB,IAAI,CAAC,OAAD,CAAX;AACH,GAFiB,CAAlB;AAGA,SAAOF,WAAP;AACH","sourcesContent":["//财务专家\r\n\r\nimport axios from 'axios'\r\nimport * as moduleMyfunc from '../store/myFunc.js'\r\n\r\n\r\n//客户托管在这里的默认的state对象\r\nlet defaultState = {\r\n    // url_BigObjJsonKollins: './static/+json所有柯林斯单词.json', //kollins json路径\r\n    url_BigArrJsonKollins: './static/+arr所有柯林斯单词.json',\r\n    // obj_AllWords: {}, //存放从json文件(一个大的obj对象)中读取到的obj_objJson\r\n    arr_KollinsAllWords: [], //存放从json文件(一个大的数组)中读取到的arr_objJson\r\n\r\n    word_currentFind: '', //当前查找的词头\r\n    index_wordCurrentFind: -1, //当前查找的单词, 在arr_AllWords中的索引值\r\n\r\n    num_OfElementsInSlice: 0, //想切含有多少个元素的切片? 范围是多少? 比如20个元素, 还是30个元素?\r\n    index_start: 0, //数组切片的起始索引值\r\n    index_end: 19, //数组切片的尾索引值\r\n    arr_wordNameInSlice: [], //存放对数组切片后, 里面的所有词头组成的数组\r\n\r\n    word_name: '', //词头\r\n    word_ciGeng: '', //词根\r\n    word_yinBiao: '', //音标\r\n    word_ArrDef: [], //释例数组, 已经过扁平化一维处理.\r\n\r\n    arr_selectedContent: [], //存放选出的释义与例句内容\r\n    str_textArea: '', //将选出的内容,放入文本框中. 方便发送给后端node.js来另存文件.\r\n}\r\n\r\n\r\n//先从json文件中, 拿到所有的kollins单词数据, 并赋值给defaultState对象的arr_KollinsAllWords属性\r\nfn_Set_ArrAllWords() //调用函数\r\n\r\n\r\n//财务专家函数\r\nlet fnReducer = (state = defaultState, objAction) => {\r\n    // console.log('财务专家收到命令书', objAction);\r\n\r\n    if (objAction.type === '命令书_更新WordCurrentFind') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.word_currentFind = objAction.value\r\n        return newState\r\n    }\r\n\r\n\r\n    if (objAction.type === '命令书_更新indexStart') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.index_start = objAction.value\r\n        return newState\r\n    }\r\n\r\n\r\n    if (objAction.type === '命令书_更新indexEnd') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.index_end = objAction.value\r\n        return newState\r\n    }\r\n\r\n     if (objAction.type === '命令书_更新arr_selectedContent') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.index_end = objAction.value\r\n        return newState\r\n    }\r\n\r\n\r\n\r\n\r\n    //搜索单个单词,并将内容填充到state中的各对应字段中\r\n    if (objAction.type === '命令书_查找SingleWord') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.word_currentFind = objAction.value\r\n\r\n        newState.arr_KollinsAllWords.forEach((itemWord, index, arr) => {\r\n                if (itemWord[\"key词头\"] === objAction.value) {\r\n                    newState.index_wordCurrentFind = index\r\n                    newState.word_name = itemWord[\"key词头\"]\r\n                    newState.word_yinBiao = itemWord[\"key音标\"]\r\n                    newState.word_ciGeng = itemWord[\"key词根\"]\r\n                    newState.word_ArrDef = moduleMyfunc.fn_处理所有释例到一维数组(itemWord[\"key所有释例\"])\r\n                    newState.arr_selectedContent = [] //当重新查询单词时, 就清空上一次选出的内容\r\n                }\r\n            }\r\n        )\r\n        return newState\r\n    }\r\n\r\n\r\n    if (objAction.type === '命令书_更新arrWordNameInSlice') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.arr_wordNameInSlice = fn_获取数组切片区间中的词头(newState.arr_KollinsAllWords, newState.index_start, newState.index_end)\r\n        return newState\r\n    }\r\n\r\n\r\n    if (objAction.type === '命令书_获取下20个单词') {\r\n        let newState = JSON.parse(JSON.stringify(state))\r\n        newState.index_start = parseInt(newState.index_end) + 1\r\n        newState.index_end = parseInt(newState.index_start) + 19\r\n        newState.arr_wordNameInSlice = fn_获取数组切片区间中的词头(newState.arr_KollinsAllWords, newState.index_start, newState.index_end)\r\n        return newState\r\n    }\r\n\r\n\r\n    return state //如果没有进入上面的if语句而返回一个newState, 本函数也要返回一个默认的defaultState.\r\n}\r\n\r\nexport default fnReducer\r\n\r\n\r\n//----------------------------------------\r\n\r\n//从json文件中, 拿到所有的kollins单词数据, 返回一个promise对象\r\nasync function fnPms_getWordArr_FromJsonFile(urlJson) {\r\n    let Pms_ArrAllWords = await axios.get(urlJson)\r\n        .then(res => {\r\n            return res.data\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    return Pms_ArrAllWords\r\n}\r\n\r\n\r\n//将拿到的所有柯林斯单词, 赋值给defaultState对象的arr_AllWords属性\r\nfunction fn_Set_ArrAllWords() {\r\n    fnPms_getWordArr_FromJsonFile(defaultState.url_BigArrJsonKollins)\r\n        .then(res => {\r\n            defaultState.arr_KollinsAllWords = res\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\n\r\nfunction fn_获取数组切片区间中的词头(arr, indexStart, indexEnd) {\r\n    let arrSlice = arr.slice(indexStart, indexEnd)\r\n    let arrWordName = arrSlice.map((item, index, arr) => {\r\n        return item['key词头']\r\n    })\r\n    return arrWordName\r\n}\r\n"]},"metadata":{},"sourceType":"module"}